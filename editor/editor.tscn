[gd_scene load_steps=25 format=3 uid="uid://dyd4lioy8r5o7"]

[ext_resource type="Script" path="res://editor/Editor.cs" id="1_wdacw"]
[ext_resource type="Texture2D" uid="uid://4htfsqr8e3kl" path="res://assets/textures/blueprint.png" id="2_giutx"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cfu7m"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_eee5e"]
material = SubResource("StandardMaterial3D_cfu7m")
size = Vector3(5, 0.01, 0.01)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_grjl6"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_gmgrp"]
material = SubResource("StandardMaterial3D_grjl6")
radius = 0.05
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8dvr5"]
albedo_color = Color(0, 1, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_t0bsi"]
material = SubResource("StandardMaterial3D_8dvr5")
size = Vector3(0.01, 5, 0.01)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_c14v8"]
albedo_color = Color(0, 1, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_f4rdv"]
material = SubResource("StandardMaterial3D_c14v8")
radius = 0.05
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yv0bd"]
albedo_color = Color(0, 0, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_pt5kh"]
material = SubResource("StandardMaterial3D_yv0bd")
size = Vector3(0.01, 0.01, 5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j54xq"]
albedo_color = Color(0, 0, 1, 1)

[sub_resource type="SphereMesh" id="SphereMesh_li8l8"]
material = SubResource("StandardMaterial3D_j54xq")
radius = 0.05
height = 0.1

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_6ohtg"]
sky_top_color = Color(0.329412, 0.454902, 0.635294, 1)
sky_horizon_color = Color(0.498039, 0.666667, 0.886275, 1)

[sub_resource type="Sky" id="Sky_7fhfx"]
sky_material = SubResource("ProceduralSkyMaterial_6ohtg")

[sub_resource type="Environment" id="Environment_se4ag"]
background_mode = 2
sky = SubResource("Sky_7fhfx")

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_vwy8d"]

[sub_resource type="BoxShape3D" id="BoxShape3D_5mf4m"]
size = Vector3(100, 1, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nx7gj"]
albedo_texture = ExtResource("2_giutx")
heightmap_enabled = true
uv1_scale = Vector3(50, 50, 50)

[sub_resource type="PlaneMesh" id="PlaneMesh_ip8gj"]
material = SubResource("StandardMaterial3D_nx7gj")
size = Vector2(100, 100)

[sub_resource type="BoxShape3D" id="BoxShape3D_tk4w7"]
size = Vector3(100, 5, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bfuud"]
albedo_texture = ExtResource("2_giutx")
heightmap_enabled = true
uv1_scale = Vector3(50, 2.5, 50)
uv1_offset = Vector3(0, 0.695, 0)

[sub_resource type="PlaneMesh" id="PlaneMesh_cp7pa"]
material = SubResource("StandardMaterial3D_bfuud")
size = Vector2(100, 5)

[node name="Editor" type="Node3D"]
script = ExtResource("1_wdacw")

[node name="gimbal" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="axis-x" type="MeshInstance3D" parent="gimbal"]
mesh = SubResource("BoxMesh_eee5e")
skeleton = NodePath("../..")

[node name="axis-x-arrow" type="MeshInstance3D" parent="gimbal/axis-x"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5, 0, 0)
mesh = SubResource("SphereMesh_gmgrp")

[node name="axis-y" type="MeshInstance3D" parent="gimbal"]
mesh = SubResource("BoxMesh_t0bsi")
skeleton = NodePath("../..")

[node name="axis-y-arrow" type="MeshInstance3D" parent="gimbal/axis-y"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
mesh = SubResource("SphereMesh_f4rdv")
skeleton = NodePath("../../axis-x")

[node name="axis-z" type="MeshInstance3D" parent="gimbal"]
mesh = SubResource("BoxMesh_pt5kh")
skeleton = NodePath("../..")

[node name="axis-x-arrow3" type="MeshInstance3D" parent="gimbal/axis-z"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.5)
mesh = SubResource("SphereMesh_li8l8")
skeleton = NodePath("../../axis-x")

[node name="container" type="Node3D" parent="gimbal"]
unique_name_in_owner = true

[node name="gui" type="CanvasLayer" parent="."]
unique_name_in_owner = true

[node name="container_left" type="MarginContainer" parent="gui" groups=["ui"]]
anchors_preset = 9
anchor_bottom = 1.0
grow_vertical = 2
theme_override_constants/margin_left = 20

[node name="HBoxContainer" type="HBoxContainer" parent="gui/container_left"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="CenterContainer" type="CenterContainer" parent="gui/container_left/HBoxContainer"]
custom_minimum_size = Vector2(80, 0)
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="gui/container_left/HBoxContainer/CenterContainer"]
layout_mode = 2

[node name="type_filter_buttons" type="VBoxContainer" parent="gui/container_left/HBoxContainer/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="button_body_filter" type="Button" parent="gui/container_left/HBoxContainer/CenterContainer/VBoxContainer/type_filter_buttons"]
unique_name_in_owner = true
layout_mode = 2
focus_neighbor_bottom = NodePath("../button_wheel_filter")
text = "Body"

[node name="button_wheel_filter" type="Button" parent="gui/container_left/HBoxContainer/CenterContainer/VBoxContainer/type_filter_buttons"]
layout_mode = 2
focus_neighbor_top = NodePath("../button_body_filter")
text = "Wheels"

[node name="button_engine_filter" type="Button" parent="gui/container_left/HBoxContainer/CenterContainer/VBoxContainer/type_filter_buttons"]
layout_mode = 2
text = "Engine"

[node name="button_attachments_filter" type="Button" parent="gui/container_left/HBoxContainer/CenterContainer/VBoxContainer/type_filter_buttons"]
layout_mode = 2
text = "Attachments"

[node name="Control" type="Control" parent="gui/container_left/HBoxContainer/CenterContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 20)
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="gui/container_left/HBoxContainer/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="parts_container" type="VBoxContainer" parent="gui/container_left/HBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
alignment = 1

[node name="button_clear" type="Button" parent="gui/container_left/HBoxContainer/parts_container"]
layout_mode = 2
text = "Clear"

[node name="container_right" type="MarginContainer" parent="gui" groups=["ui"]]
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 2

[node name="Panel" type="Panel" parent="gui/container_right"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="gui/container_right"]
layout_mode = 2

[node name="ColorPicker" type="ColorPicker" parent="gui/container_right/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
edit_alpha = false
picker_shape = 2
can_add_swatches = false
sampler_visible = false
color_modes_visible = false
hex_visible = false
presets_visible = false

[node name="Label" type="Label" parent="gui/container_right/VBoxContainer"]
layout_mode = 2
text = "Materials:"

[node name="material_container" type="VBoxContainer" parent="gui/container_right/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2

[node name="container_top" type="MarginContainer" parent="gui"]
anchors_preset = 10
anchor_right = 1.0
grow_horizontal = 2
theme_override_constants/margin_top = 20

[node name="CenterContainer" type="CenterContainer" parent="gui/container_top"]
layout_mode = 2

[node name="button_test_vehicle" type="Button" parent="gui/container_top/CenterContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "(Y) Test your vehicle"

[node name="button_build_mode" type="Button" parent="gui/container_top/CenterContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "(Y) Back to build mode"

[node name="camera-pivot" type="Node3D" parent="."]
transform = Transform3D(0.70859, -0.00359738, 0.705611, -0.219186, 0.949397, 0.224951, -0.670714, -0.314058, 0.671945, 0, 0, 0)

[node name="camera" type="Camera3D" parent="camera-pivot"]
unique_name_in_owner = true
transform = Transform3D(0.973013, -0.230752, 0.000800937, 0.230645, 0.972444, -0.0339973, 0.00706616, 0.0332645, 0.999422, 9.53674e-07, -8.34465e-07, 6)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_se4ag")

[node name="test-container" type="Node3D" parent="."]
unique_name_in_owner = true

[node name="ground" type="Node3D" parent="test-container"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -10, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="test-container/ground"]
physics_material_override = SubResource("PhysicsMaterial_vwy8d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="test-container/ground/StaticBody3D"]
shape = SubResource("BoxShape3D_5mf4m")

[node name="MeshInstance3D" type="MeshInstance3D" parent="test-container/ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
mesh = SubResource("PlaneMesh_ip8gj")
skeleton = NodePath("../../..")

[node name="wall-1" type="Node3D" parent="test-container"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -8, -50)

[node name="StaticBody3D" type="StaticBody3D" parent="test-container/wall-1"]
physics_material_override = SubResource("PhysicsMaterial_vwy8d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="test-container/wall-1/StaticBody3D"]
shape = SubResource("BoxShape3D_tk4w7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="test-container/wall-1"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.5, 0)
mesh = SubResource("PlaneMesh_cp7pa")
skeleton = NodePath("../../..")

[node name="wall-2" type="Node3D" parent="test-container"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 50, -8, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="test-container/wall-2"]
physics_material_override = SubResource("PhysicsMaterial_vwy8d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="test-container/wall-2/StaticBody3D"]
shape = SubResource("BoxShape3D_tk4w7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="test-container/wall-2"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.5, 0)
mesh = SubResource("PlaneMesh_cp7pa")
skeleton = NodePath("../../..")

[node name="wall-3" type="Node3D" parent="test-container"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -50, -8, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="test-container/wall-3"]
physics_material_override = SubResource("PhysicsMaterial_vwy8d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="test-container/wall-3/StaticBody3D"]
shape = SubResource("BoxShape3D_tk4w7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="test-container/wall-3"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.5, 0)
mesh = SubResource("PlaneMesh_cp7pa")
skeleton = NodePath("../../..")

[node name="wall-4" type="Node3D" parent="test-container"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -8, 50)

[node name="StaticBody3D" type="StaticBody3D" parent="test-container/wall-4"]
physics_material_override = SubResource("PhysicsMaterial_vwy8d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="test-container/wall-4/StaticBody3D"]
shape = SubResource("BoxShape3D_tk4w7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="test-container/wall-4"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.5, 0)
mesh = SubResource("PlaneMesh_cp7pa")
skeleton = NodePath("../../..")

[connection signal="pressed" from="gui/container_left/HBoxContainer/parts_container/button_clear" to="." method="_onButtonClearPressed"]
[connection signal="color_changed" from="gui/container_right/VBoxContainer/ColorPicker" to="." method="_on_color_picker_color_changed"]
[connection signal="pressed" from="gui/container_top/CenterContainer/button_test_vehicle" to="." method="_onButtonTestVehiclePressed"]
[connection signal="pressed" from="gui/container_top/CenterContainer/button_build_mode" to="." method="_onButtonBuildModePressed"]
